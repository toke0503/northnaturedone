---
const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1); // remove the first "/"
import Button from "./Button.astro";
import Heading from "./Heading.astro";
---
<header x-data="{ showmenu: false }" class="absolute top-0 left-0 w-full">
    <div id="navbar" class="px-[8.333vw] flex flex-row justify-between items-center relative z-50">
        <div id="logo" :class="showmenu ? 'invisible' : 'visible'">
            <a href="/">
                <img src="/src/assets/images/logogron.png" alt="North Nature" class="h-28" />
            </a>
        </div>
        <div class="flex items-center gap-4">
            <div :class="showmenu ? 'opacity-0 pointer-events-none' : 'opacity-100'" class="transition-none!">
                <Button variant="primary">Støt Havet</Button>
            </div>
            <button id="burgermenu" x-on:click="showmenu = ! showmenu" class="flex flex-col gap-2.5 w-12 h-14 justify-center relative">
                <span class="block h-0.5 w-full bg-primary transition-all duration-300 absolute top-1/2 -translate-y-1/2" :class="showmenu ? 'rotate-45' : '-translate-y-3'"></span>
                <span class="block h-0.5 w-full bg-primary transition-all duration-300" :class="showmenu ? 'opacity-0' : 'opacity-100'"></span>
                <span class="block h-0.5 w-full bg-primary transition-all duration-300 absolute top-1/2 -translate-y-1/2" :class="showmenu ? '-rotate-45' : 'translate-y-3'"></span>
            </button>
        </div>
    </div>
    
    <nav id="mobilmenu" class="fixed inset-0 h-screen w-screen z-30 overflow-hidden" 
    x-show="showmenu" 
    x-transition:enter="transition ease-out duration-400"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition ease-in duration-300"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    x-cloak>
        <!-- Menu indhold -->
        <div class="menu-content absolute inset-0 bg-cover bg-center" 
        style="background-image: url('/src/assets/images/gradient.png');">
            <div class="absolute inset-0 bg-black opacity-10 pointer-events-none"></div>
            
            <div class="h-full flex relative z-0">
                <!-- Venstre side med MENU og grøn boks -->
                <div class="w-1/2 px-[8.333vw] py-16 flex flex-col">
                    <Heading htmlheading="h1" size="h1" stylingclasses="text-primary mb-12">MENU</Heading>
                    
                    <!-- Grøn boks -->
                    <div class="bg-primary rounded-3xl flex-1 max-h-[500px]"></div>
                </div>
                
                <!-- Højre side med links -->
                <div class="w-1/2 px-[8.333vw] py-16 flex flex-col justify-between">
                    <ul class="space-y-4 text-right mt-16">
                        <li><a href="/" class="block" x-on:click="showmenu = false"><Heading htmlheading="h2" size="h2" stylingclasses="text-primary">FORSIDE</Heading></a></li>
                        <li><a href="/" class="block" x-on:click="showmenu = false"><Heading htmlheading="h2" size="h2" stylingclasses="text-primary">STØT HAVET</Heading></a></li>
                        <li><a href="/om-os/" class="block" x-on:click="showmenu = false"><Heading htmlheading="h2" size="h2" stylingclasses="text-primary">OM OS</Heading></a></li>
                        <li><a href="/projekter/" class="block" x-on:click="showmenu = false"><Heading htmlheading="h2" size="h2" stylingclasses="text-primary">PROJEKTER</Heading></a></li>
                        <li><a href="/kontakt/" class="block" x-on:click="showmenu = false"><Heading htmlheading="h2" size="h2" stylingclasses="text-primary">KONTAKT OS</Heading></a></li>
                    </ul>
                    
                    <div class="mt-auto text-right">
                        <Heading htmlheading="h4" size="h4" stylingclasses="text-primary mb-4">FØLG OS PÅ <br> SOCIALE MEDIER</Heading>
                        <div class="flex gap-4 justify-end">
                            <a href="https://www.facebook.com/NorthNaturedk?locale=da_DK" target="_blank" rel="noopener noreferrer" class="transition-transform duration-200 hover:scale-110">
                                <img src="/src/assets/images/fb.svg" alt="Facebook" class="w-10 h-10 transition duration-200 hover:brightness-110" />
                            </a>
                            <a href="https://www.instagram.com/northnaturedk/" target="_blank" rel="noopener noreferrer" class="transition-transform duration-200 hover:scale-110">
                                <img src="/src/assets/images/ig.svg" alt="Instagram" class="w-10 h-10 transition duration-200 hover:brightness-110" />
                            </a>
                            <a href="https://www.youtube.com/channel/UCRnON5-mkcPwXEEfxZu8I-Q" target="_blank" rel="noopener noreferrer" class="transition-transform duration-200 hover:scale-110">
                                <img src="/src/assets/images/yt.svg" alt="YouTube" class="w-10 h-10 transition duration-200 hover:brightness-110" />
                            </a>
                            <a href="https://linkedin.com/company/north-nature?originalSubdomain=dk" target="_blank" rel="noopener noreferrer" class="transition-transform duration-200 hover:scale-110">
                                <img src="/src/assets/images/linkedin.svg" alt="LinkedIn" class="w-10 h-10 transition duration-200 hover:brightness-110" />
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>

<style>
</style>
